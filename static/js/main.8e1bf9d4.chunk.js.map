{"version":3,"sources":["store/reducer.js","store/index.js","store/actionType.js","TodolistUI.js","Todolist.js","store/actionCreators.js","index.js"],"names":["defaultState","inputValue","list","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","store","createStore","state","action","type","newState","JSON","parse","stringify","value","push","splice","index","console","log","run","todoSagas","TodolistUI","props","style","marginTop","marginLeft","placeholder","width","marginRight","onChange","handleInputChange","onClick","handleBtnClick","bordered","dataSource","renderItem","item","Item","handleItemDelete","Todolist","getState","bind","handleStoreChange","subscribe","this","axios","get","then","res","data","initListAction","dispatch","e","target","setState","getDeleteItemAction","alert","Component","ReactDOM","render","document","getElementById"],"mappings":"mPAGMA,EAAe,CACjBC,WAAW,GACXC,KAAK,I,0BCCHC,EAAiBC,cAEjBC,GADmBC,OAAOC,8BAAgCD,OAAOC,gCACrCC,YAAgBL,IAG5CM,EAAQC,aDFC,WAAmC,IAAlCC,EAAiC,uDAAzBX,EAAcY,EAAW,uCAC7C,GEV8B,uBFU1BA,EAAOC,KAA4B,CACnC,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUN,IAE3C,OADAG,EAASb,WAAaW,EAAOM,MACtBJ,EAGX,GEfyB,kBFerBF,EAAOC,KAAuB,CAC9B,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUN,IAG3C,OAFAG,EAASZ,KAAKiB,KAAKL,EAASb,YAC5Ba,EAASb,WAAa,GACfa,EAGX,GErB4B,qBFqBxBF,EAAOC,KAA0B,CACjC,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUN,IAG3C,OAFAG,EAASZ,KAAKkB,OAAOR,EAAOS,MAAM,GAE3BP,EAIX,OADAQ,QAAQC,IAAIZ,EAAMC,GACXD,ICpBwBN,GACnCF,EAAeqB,IAAIC,KAQJhB,Q,0BE6CAiB,EA3DI,SAACC,GAEhB,OACI,yBAAKC,MAAO,CAAEC,UAAW,OAAQC,WAAY,SACzC,6BACI,kBAAC,IAAD,CACIZ,MAAOS,EAAM1B,WACb8B,YAAY,WACZH,MAAO,CAAEI,MAAO,QAASC,YAAa,QACtCC,SAAUP,EAAMQ,oBAEpB,kBAAC,IAAD,CAAQtB,KAAK,UAAUuB,QAAST,EAAMU,gBAAtC,iBAEJ,kBAAC,IAAD,CACIT,MAAO,CAAEC,UAAW,OAAQG,MAAO,SACnCM,UAAQ,EACRC,WAAYZ,EAAMzB,KAClBsC,WAAY,SAACC,EAAMpB,GAAP,OACR,kBAAC,IAAKqB,KAAN,CAAWN,QAAS,WAAQT,EAAMgB,iBAAiBtB,KAC9CoB,Q,kBC4CVG,E,kDA5DX,WAAYjB,GAAO,IAAD,8BACd,cAAMA,IACDhB,MAAQF,EAAMoC,WACnB,EAAKV,kBAAoB,EAAKA,kBAAkBW,KAAvB,gBACzB,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKT,eAAiB,EAAKA,eAAeS,KAApB,gBACtB,EAAKH,iBAAmB,EAAKA,iBAAiBG,KAAtB,gBACxBrC,EAAMuC,UAAU,EAAKD,mBAPP,E,qDAWd,OACI,kBAAC,EAAD,CACI9C,WAAYgD,KAAKtC,MAAMV,WACvBkC,kBAAmBc,KAAKd,kBACxBE,eAAgBY,KAAKZ,eACrBnC,KAAM+C,KAAKtC,MAAMT,KACjByC,iBAAkBM,KAAKN,qB,0CAO/BO,IAAMC,IAAI,aAAaC,MAAK,SAACC,GACzB,IACMzC,EChBY,SAAC0C,GAAD,MAAW,CACrCzC,KHjB4B,iBGkB5ByC,QDcuBC,CADHF,EAAIC,MAEhB7C,EAAM+C,SAAS5C,Q,wCAIL6C,GAId,IAAM7C,ECvCkC,CAC5CC,KHN8B,qBGO9BK,MDqCwCuC,EAAEC,OAAOxC,OAC7CT,EAAM+C,SAAS5C,GAEfU,QAAQC,IAAIkC,EAAEC,OAAOxC,S,0CAIrB+B,KAAKU,SAASlD,EAAMoC,YACpBvB,QAAQC,IAAI,mB,uCAKZ,IAAMX,EC/CyB,CACnCC,KHVyB,iBEyDrBJ,EAAM+C,SAAS5C,K,uCAGFS,GACb,IAAMT,EChDqB,SAACS,GAAD,MAAY,CAC3CR,KHb4B,mBGc5BQ,SD8CmBuC,CAAoBvC,GACnCZ,EAAM+C,SAAS5C,GACfiD,MAAMxC,O,GAzDSyC,aEFvBC,IAASC,OAAO,kBAAC,EAAD,MAAaC,SAASC,eAAe,U","file":"static/js/main.8e1bf9d4.chunk.js","sourcesContent":["import {CHANGE_INPUT_VALUE,ADD_TODO_ITEM,DELETE_TODO_ITEM} from'./actionType.js';\r\n\r\n\r\nconst defaultState = {\r\n    inputValue:'',\r\n    list:[]\r\n}\r\n//state笔记本里的数据\r\n//reducer 可以接受state， 但是绝不能修改state，可以复制newState，改变副本\r\nexport default (state = defaultState, action) => {\r\n    if (action.type === CHANGE_INPUT_VALUE){\r\n        const newState = JSON.parse(JSON.stringify(state));\r\n        newState.inputValue = action.value;\r\n        return newState;\r\n    }\r\n    \r\n    if (action.type === ADD_TODO_ITEM){\r\n        const newState = JSON.parse(JSON.stringify(state));\r\n        newState.list.push(newState.inputValue);\r\n        newState.inputValue = '';\r\n        return newState;\r\n    }\r\n\r\n    if (action.type === DELETE_TODO_ITEM){\r\n        const newState = JSON.parse(JSON.stringify(state));\r\n        newState.list.splice(action.index,1);\r\n        //找到对应下标，删除1项\r\n        return newState;\r\n    }\r\n\r\n    console.log(state,action);\r\n    return state;\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport reducer from './reducer.js';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport todoSagas from './sagas';\r\n\r\n// create the saga middleware\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\r\nconst enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));\r\n\r\n\r\nconst store = createStore(reducer, enhancer);\r\nsagaMiddleware.run(todoSagas);\r\n\r\n/*\r\nconst store = createStore(\r\n    reducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n*/\r\nexport default store;","export const CHANGE_INPUT_VALUE = 'change_input_value';\r\nexport const ADD_TODO_ITEM = 'add_todo_item';\r\nexport const DELETE_TODO_ITEM = 'delete_todo_item';\r\nexport const INIT_LIST_ACTION = 'initListAction';","import React from 'react';\r\nimport { Input } from 'antd';\r\nimport { Button } from 'antd';\r\nimport { List } from 'antd';\r\n\r\n//无状态组件\r\nconst TodolistUI = (props) => {\r\n\r\n    return (\r\n        <div style={{ marginTop: '10px', marginLeft: '10px' }}>\r\n            <div>\r\n                <Input\r\n                    value={props.inputValue}\r\n                    placeholder='todoinfo'\r\n                    style={{ width: '300px', marginRight: '10px' }}\r\n                    onChange={props.handleInputChange}\r\n                />\r\n                <Button type=\"primary\" onClick={props.handleBtnClick} >提交</Button>\r\n            </div>\r\n            <List\r\n                style={{ marginTop: '10px', width: '300px' }}\r\n                bordered\r\n                dataSource={props.list}\r\n                renderItem={(item, index) => (\r\n                    <List.Item onClick={() => { props.handleItemDelete(index) }}>\r\n                        {item}\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\n// class TodolistUI extends Component {\r\n//     render() {\r\n//         return (\r\n//             <div style ={{marginTop:'10px', marginLeft:'10px'}}>\r\n//                 <div>\r\n//                     <Input \r\n//                     value={this.props.inputValue} \r\n//                     placeholder ='todoinfo' \r\n//                     style = {{width: '300px', marginRight: '10px'}}\r\n//                     onChange = {this.props.handleInputChange}\r\n//                     />\r\n//                     <Button type=\"primary\" onClick={this.props.handleBtnClick} >提交</Button>\r\n//                 </div>\r\n//                 <List\r\n//                     style={{marginTop:'10px', width:'300px'}}\r\n//                     bordered\r\n//                     dataSource={this.props.list}\r\n//                     renderItem={(item, index) => (\r\n//                         <List.Item onClick ={(index)=>{this.props.handleItemDelete(index)}}>\r\n//                             {item}\r\n//                         </List.Item>\r\n//           )}\r\n//         />\r\n//             </div>\r\n//             )\r\n//     }\r\n// }\r\n\r\n\r\nexport default TodolistUI;","import React, { Component}  from 'react';\r\nimport 'antd/dist/antd.css'; \r\nimport store from './store/index.js';\r\nimport { initListAction, getInputChangeAction, getAddItemAction, getDeleteItemAction} from'./store/actionCreators.js';\r\nimport TodolistUI from './TodolistUI';\r\nimport axios from 'axios';\r\n\r\nclass Todolist extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = store.getState();\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleStoreChange = this.handleStoreChange.bind(this);\r\n        this.handleBtnClick = this.handleBtnClick.bind(this);\r\n        this.handleItemDelete = this.handleItemDelete.bind(this);\r\n        store.subscribe(this.handleStoreChange);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <TodolistUI \r\n                inputValue={this.state.inputValue}\r\n                handleInputChange={this.handleInputChange}\r\n                handleBtnClick={this.handleBtnClick}\r\n                list={this.state.list}\r\n                handleItemDelete={this.handleItemDelete}\r\n            />\r\n        )\r\n     \r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('list.json').then((res)=>{\r\n            const data =res.data;\r\n            const action = initListAction(data);\r\n            store.dispatch(action);\r\n        })\r\n    }\r\n\r\n    handleInputChange(e){\r\n\r\n        //告诉store要改数据\r\n\r\n        const action = getInputChangeAction(e.target.value);\r\n        store.dispatch(action);\r\n\r\n        console.log(e.target.value);\r\n    }\r\n \r\n    handleStoreChange(){\r\n        this.setState(store.getState());\r\n        console.log('store changed');\r\n    }\r\n\r\n    //点击提交，传进list\r\n    handleBtnClick(){\r\n        const action = getAddItemAction();\r\n        store.dispatch(action);\r\n    }\r\n\r\n    handleItemDelete(index){\r\n        const action = getDeleteItemAction(index);\r\n        store.dispatch(action);\r\n        alert(index);\r\n    }\r\n}\r\n\r\n\r\nexport default Todolist;","import { CHANGE_INPUT_VALUE } from \"./actionType.js\";\r\nimport { ADD_TODO_ITEM } from './actionType.js';\r\nimport { DELETE_TODO_ITEM } from './actionType.js';\r\nimport { INIT_LIST_ACTION } from './actionType.js'\r\n\r\nexport const getInputChangeAction = (value) => ({\r\n    type: CHANGE_INPUT_VALUE,\r\n    value\r\n})\r\n\r\nexport const getAddItemAction = () => ({\r\n    type: ADD_TODO_ITEM\r\n})\r\n\r\nexport const getDeleteItemAction = (index) => ({\r\n    type: DELETE_TODO_ITEM,\r\n    index\r\n})\r\n\r\nexport const initListAction = (data) => ({\r\n    type: INIT_LIST_ACTION,\r\n    data\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TodoList from './Todolist';\n\n\nReactDOM.render(<TodoList />,document.getElementById('root'));"],"sourceRoot":""}